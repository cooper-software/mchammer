{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","mchammer.js","mchammer.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","mchammer","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"set_properties","obj","props","default_props","k","hasOwnProperty","Object","keys","forEach","defineProperty","configurable","enumerable","value","undefined","writable","model_version","Model","versioned","instance_version","instance_id","_id","_version","update","constructor","prop_equals","b","check_version","equals","Array","other","only","model","default_props_arg","_parent","extend","parent","parent_inst","new_props","is_instance","inst","child","mutable_copy","mutable_inst"],"mappings":"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","file":"mchammer.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","\"use strict\"\n\nfunction set_properties(obj, props, default_props)\n{\n\tfor (var k in props)\n\t{\n\t\tif (props.hasOwnProperty(k) && !default_props.hasOwnProperty(k))\n\t\t{\n\t\t\tthrow new Error('Unknown property \"'+k+'\"')\n\t\t}\n\t}\n\t\n\tObject.keys(default_props).forEach(function (k)\n\t{\n\t\tObject.defineProperty(obj, k, \n\t\t{\n\t\t\tconfigurable: false,\n\t\t\tenumerable: true,\n\t\t\tvalue: props[k] !== undefined ? props[k] : default_props[k],\n\t\t\twritable: false\n\t\t})\n\t})\n}\n\nvar model_version = 0\n\nvar Model = function (default_props, versioned)\n{\n\tvar default_props = default_props || {},\n\t\tinstance_version = 0,\n\t\tinstance_id = 0\n\t\n\tif (versioned)\n\t{\n\t\tmodel_version++\n\t\tdefault_props._id = model_version + '-' + instance_id\n\t\tdefault_props._version = model_version + '-' + instance_version\n\t}\n\t\n\tdefault_props.update = function (props)\n\t{\n\t\tif (versioned)\n\t\t{\n\t\t\tprops._version = model_version + '-' + ++instance_version\n\t\t}\n\t\treturn new this.constructor(props, this)\n\t}\n\t\n\tvar prop_equals = function (a, b, check_version)\n\t{\n\t\tif (a === b)\n\t\t{\n\t\t\treturn true\n\t\t}\n\t\t\n\t\tif (typeof b === \"undefined\" || typeof a === \"undefined\" ||\n\t\t\tb === null || a === null)\n\t\t{\n\t\t\treturn a == b\n\t\t}\n\t\t\n\t\tif (a.constructor != b.constructor)\n\t\t{\n\t\t\treturn false\n\t\t}\n\t\t\n\t\tif (check_version && a._version != b._version)\n\t\t{\n\t\t\treturn false\n\t\t}\n\t\t\n\t\tif (a.equals)\n\t\t{\n\t\t\treturn a.equals(b)\n\t\t}\n\t\telse if (b.equals)\n\t\t{\n\t\t\treturn b.equals(a)\n\t\t}\n\t\telse if (a.constructor == Array)\n\t\t{\n\t\t\tif (a.length != b.length)\n\t\t\t{\n\t\t\t\treturn false\n\t\t\t}\n\t\t\tfor (var i=0; i<a.length; i++)\n\t\t\t{\n\t\t\t\tif (!prop_equals(a[i], b[i]))\n\t\t\t\t{\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t\telse if (a instanceof Object)\n\t\t{\n\t\t\tfor (var k in a)\n\t\t\t{\n\t\t\t\tif (a.hasOwnProperty(k) && k != '_version')\n\t\t\t\t{\n\t\t\t\t\tif (!prop_equals(a[k], b[k]))\n\t\t\t\t\t{\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn a == b\n\t\t}\n\t}\n\t\n\tdefault_props.equals = function (other, only)\n\t{\n\t\tif (this === other)\n\t\t{\n\t\t\treturn true\n\t\t}\n\t\t\n\t\tif (this.constructor !== other.constructor)\n\t\t{\n\t\t\treturn false\n\t\t}\n\t\t\n\t\tif (only)\n\t\t{\n\t\t\tfor (var i=0; i<only.length; i++)\n\t\t\t{\n\t\t\t\tif (!prop_equals(this[only[i]], other[only[i]]))\n\t\t\t\t{\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (var k in default_props)\n\t\t\t{\n\t\t\t\tif (default_props.hasOwnProperty(k))\n\t\t\t\t{\n\t\t\t\t\tif (!prop_equals(this[k], other[k]))\n\t\t\t\t\t{\n\t\t\t\t\t\treturn false\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn true\n\t}\n\t\n\tvar model = function (props, default_props_arg)\n\t{\n\t\tprops = props || {}\n\t\tset_properties(this, props || {}, default_props_arg || default_props)\n\t}\n\tmodel._parent = Model\n\t\n\tif (versioned)\n\t{\n\t\tmodel._version = model_version\n\t}\n\t\n\treturn model\n}\n\nModel.extend = function (parent, props)\n{\n\tvar parent_inst = new parent(),\n\t\tnew_props = {},\n\t\tprops = props || {}\n\t\n\tObject.keys(parent_inst).forEach(function (k)\n\t{\n\t\tnew_props[k] = parent_inst[k]\n\t})\n\t\n\tObject.keys(props).forEach(function (k)\n\t{\n\t\tnew_props[k] = props[k]\n\t})\n\t\n\tvar model = Model(new_props, typeof parent._version != \"undefined\")\n\tmodel._parent = parent\n\treturn model\n}\n\nModel.is_instance = function (inst, model)\n{\n\tvar child = inst.constructor\n\t\n\twhile (child._parent)\n\t{\n\t\tif (child._parent === model)\n\t\t{\n\t\t\treturn true\n\t\t}\n\t\t\n\t\tchild = child._parent\n\t}\n\t\n\treturn false\n}\n\nModel.mutable_copy = function (inst)\n{\n\tvar mutable_inst = {}\n\t\n\tObject.keys(inst).forEach(function (k)\n\t{\n\t\tmutable_inst[k] = inst[k]\n\t})\n\t\n\treturn mutable_inst\n}\n\nmodule.exports = \n{\n\tModel: Model\n}",null],"sourceRoot":"/source/"}